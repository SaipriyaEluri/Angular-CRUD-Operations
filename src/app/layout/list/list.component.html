<main>
    <div class="container-fluid">
          <div class="d-flex justify-content-between align-items-center p-2 pb-0">
            <div class="fs-5">Angular CRUD Operations  </div>
            <button mat-raised-button color="primary" (click)="updateTask('ADD')">Add Task</button>
          </div>
      <section class="card_section">
         <table mat-table [dataSource]="toDoList" class="mat-elevation-z0 pr-table pr-table-striped p-0">

            <ng-container matColumnDef="taskNo">
                <th mat-header-cell *matHeaderCellDef> Task No </th>
                <td mat-cell *matCellDef="let element"> {{element.taskNo}} </td>
              </ng-container>

              <ng-container matColumnDef="taskName">
                <th mat-header-cell *matHeaderCellDef>Task Name</th>
                <td mat-cell *matCellDef="let element">{{element.taskName}}</td>
              </ng-container>

              <ng-container matColumnDef="description">
                <th mat-header-cell *matHeaderCellDef>Description</th>
                <td mat-cell *matCellDef="let element">{{element.description}}</td>
              </ng-container>

              <ng-container matColumnDef="dueDate">
                <th mat-header-cell *matHeaderCellDef>Due Date</th>
                <td mat-cell *matCellDef="let element">{{element.dueDate |  date: 'dd/MM/yyyy'}}</td>
              </ng-container>

              <ng-container matColumnDef="priority">
                <th mat-header-cell *matHeaderCellDef>Priority</th>
                <td mat-cell *matCellDef="let element">{{element.priority}}</td>
              </ng-container>

              <ng-container matColumnDef="completionPercentage">
                <th mat-header-cell *matHeaderCellDef>Completion Percentaage</th>
                <td mat-cell *matCellDef="let element">{{element.completionPercentage}}</td>
              </ng-container>

              <ng-container matColumnDef="status">
                <th mat-header-cell *matHeaderCellDef>Status </th>
                <td mat-cell *matCellDef="let element">
                  <span class="badge" [class.greenbadge]="element.status === 'Completed'"
                                      [class.bluebadge]="element.status === 'In Progress'">{{element.status}}</span>
                  </td>
              </ng-container>

              <ng-container matColumnDef="Action">
                <th mat-header-cell *matHeaderCellDef>Action</th>
                <td mat-cell *matCellDef="let element">
                    <mat-icon class="fs-5" (click)="updateTask('VIEW',element)">visibility</mat-icon>
                   <mat-icon class="fs-5" (click)="updateTask('EDIT',element)">edit</mat-icon>
                   <mat-icon class="fs-5" (click)="deleteTask(element.id)">delete</mat-icon>
                </td>
              </ng-container>

              <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
              <tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>

         </table>
      </section>
    </div>

</main>